<h2 class="title">Товары</h2>

<div class="inp-wrapper">
    <input type="text" [(ngModel)]="searchParam" name="" id="" placeholder="Поиск товаров">
</div>
<div class="table-wrapper custom-scroll">
    <table class="products__list">
        <thead>
            <tr>
                <th>№</th>
                <th>Фото</th>
                <th>Название</th>
                <th>Категория</th>
                <th>Создано</th>
                <th></th>
            </tr>
        </thead>
        <tbody>
                <tr *ngFor="let item of items | search:'name':searchParam:false">
                    <td>{{item.id}}</td>
                    <td></td>
                    <td>{{item.name}}</td>
                    <td>{{ item.category }}</td>
                    <td>{{ item.created | date:'MMM dd' }}</td>
                    <td>
                        <div class="row action">

                            <svg (click)="productForm = { show: true, product: item }"
                                class="action__btn" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="none"
                            >
                                <path d="M9.1665 3.33337H3.33317C2.89114 3.33337 2.46722 3.50897 2.15466 3.82153C1.8421 4.13409 1.6665 4.55801 1.6665 5.00004V16.6667C1.6665 17.1087 1.8421 17.5327 2.15466 17.8452C2.46722 18.1578 2.89114 18.3334 3.33317 18.3334H14.9998C15.4419 18.3334 15.8658 18.1578 16.1783 17.8452C16.4909 17.5327 16.6665 17.1087 16.6665 16.6667V10.8334" stroke="#7E7979" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                <path d="M15.4165 2.08332C15.748 1.7518 16.1977 1.56555 16.6665 1.56555C17.1353 1.56555 17.585 1.7518 17.9165 2.08332C18.248 2.41484 18.4343 2.86448 18.4343 3.33332C18.4343 3.80216 18.248 4.2518 17.9165 4.58332L9.99984 12.5L6.6665 13.3333L7.49984 9.99999L15.4165 2.08332Z" stroke="#7E7979" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>
    
                            <svg (click)="deleteProduct(item.id)" class="action__btn" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="none">
                                <path d="M2.5 5H4.16667H17.5" stroke="#7E7979" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                <path d="M15.8332 4.99996V16.6666C15.8332 17.1087 15.6576 17.5326 15.345 17.8451C15.0325 18.1577 14.6085 18.3333 14.1665 18.3333H5.83317C5.39114 18.3333 4.96722 18.1577 4.65466 17.8451C4.3421 17.5326 4.1665 17.1087 4.1665 16.6666V4.99996M6.6665 4.99996V3.33329C6.6665 2.89127 6.8421 2.46734 7.15466 2.15478C7.46722 1.84222 7.89114 1.66663 8.33317 1.66663H11.6665C12.1085 1.66663 12.5325 1.84222 12.845 2.15478C13.1576 2.46734 13.3332 2.89127 13.3332 3.33329V4.99996" stroke="#7E7979" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                <path d="M8.3335 9.16663V14.1666" stroke="#7E7979" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                <path d="M11.6665 9.16663V14.1666" stroke="#7E7979" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>

                        </div>
                    </td>
                </tr>
            </tbody>
    </table>
</div>


<button class="btn-primary" (click)="productForm.show = true">Добавить товар</button>


<app-product-form *ngIf="productForm.show" 
    style="position: absolute;" 
    [product]="productForm.product"
    (onClose)="productForm = { show: false, product: undefined }"
    (onPostProduct)="onNewProductData($event)"
></app-product-form>